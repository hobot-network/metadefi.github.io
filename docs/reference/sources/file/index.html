<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="metadefi - Decentralized Finance Data Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="metadefi - Decentralized Finance Data Blog Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-136383172-2","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="stylesheet" href="https://use.typekit.net/ckb0rsm.css">
<link rel="stylesheet" href="https://at-ui.github.io/feather-font/css/iconfont.css">
<link rel="stylesheet" href="">

<title data-react-helmet="true">File Source | Docs | metadefi - Decentralized Finance Data</title>

<meta data-react-helmet="true" http-equiv="x-ua-compatible" content="ie=edge"><meta data-react-helmet="true" property="og:title" content="metadefi - Decentralized Finance Data -  MetaDeFi is a programmable gateway for on chain data from the Ethereum blockchain. You can query derivatives, marging trading ,lending and more."><meta data-react-helmet="true" property="og:image" content="https://metadefi.com/img/open-graph.png"><meta data-react-helmet="true" property="twitter:image" content="https://metadefi.com/img/open-graph.png"><meta data-react-helmet="true" name="twitter:image:alt" content="Image for metadefi - Decentralized Finance Data -  MetaDeFi is a programmable gateway for on chain data from the Ethereum blockchain. You can query derivatives, marging trading ,lending and more."><meta data-react-helmet="true" name="twitter:card" content="summary"><meta data-react-helmet="true" name="description" content="The Vector [`file`](#file) source ingests data through one or more local files and outputs `log` events."><meta data-react-helmet="true" property="og:description" content="The Vector [`file`](#file) source ingests data through one or more local files and outputs `log` events."><meta data-react-helmet="true" property="og:url" content="https://metadefi.com/docs/reference/sources/file">

<link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico">


<link rel="stylesheet" href="/styles.9e4623ce.css">

</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}function e(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}var n=window.matchMedia("(prefers-color-scheme: dark)");n.addListener((function(n){null===e()&&t(n.matches?"dark":"")}));var a=e();null!==a?t(a):n.matches&&t("dark")}()</script>
<div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top navbarHideable_2ZIa"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a aria-current="page" class="navbar__brand active" href="/"></a><a class="navbar__item navbar__link" href="/components/">Protocols</a></div><div class="navbar__items navbar__items--right"><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_16CL"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_keGJ moon_1gwN"></span></div><div class="react-toggle-track-x"><span class="toggle_keGJ sun_3CPA"></span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a aria-current="page" class="navbar__brand active" href="/"></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="navbar__item navbar__link" href="/components/">Protocols</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_1kjD"><div class="docSidebarContainer_1cYp"><div class="sidebar_25T_"><div class="menu menu--responsive"><button aria-label="Open Menu" class="button button--secondary button--sm menu__button" type="button"><svg class="sidebarMenuIcon_1hKf" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><div class="title">About</div><ul class="menu__list"><li class="menu__list-item menu__list-item-hidden"><a class="menu__link" href="/docs/about/">hidden</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/about/what-is-brainrex/">What is BrainRex?</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/about/concepts/">Concepts</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="/docs/about/data-model/">AI Transforms</a><ul class="menu__list"><li class="menu__list-item menu__list-item-hidden"><a class="menu__link" href="/docs/about/data-model/">hidden</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/about/data-model/log/">Log Event</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/about/data-model/metric/">Metric Event</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/docs/about/guarantees/">Guarantees</a></li></ul></li><li class="menu__list-item"><div class="title">Setup</div><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="/docs/setup/installation/">Installation</a><ul class="menu__list"><li class="menu__list-item menu__list-item-hidden"><a class="menu__link" href="/docs/setup/installation/">hidden</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="/docs/setup/installation/containers/">Containers</a><ul class="menu__list"><li class="menu__list-item menu__list-item-hidden"><a class="menu__link" href="/docs/setup/installation/containers/">hidden</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/setup/installation/containers/docker/">Docker</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="/docs/setup/installation/package-managers/">Package Managers</a><ul class="menu__list"><li class="menu__list-item menu__list-item-hidden"><a class="menu__link" href="/docs/setup/installation/package-managers/">hidden</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/setup/installation/package-managers/dpkg/">DPKG</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/setup/installation/package-managers/homebrew/">Homebrew</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/setup/installation/package-managers/rpm/">RPM</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/setup/installation/package-managers/msi/">MSI</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="/docs/setup/installation/operating-systems/">Operating Systems</a><ul class="menu__list"><li class="menu__list-item menu__list-item-hidden"><a class="menu__link" href="/docs/setup/installation/operating-systems/">hidden</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/setup/installation/operating-systems/amazon-linux/">Amazon Linux</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/setup/installation/operating-systems/centos/">CentOS</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/setup/installation/operating-systems/debian/">Debian</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/setup/installation/operating-systems/macos/">MacOS</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/setup/installation/operating-systems/raspbian/">Raspbian</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/setup/installation/operating-systems/rhel/">RHEL</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/setup/installation/operating-systems/ubuntu/">Ubuntu</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/setup/installation/operating-systems/windows/">Windows</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="/docs/setup/installation/manual/">Manual</a><ul class="menu__list"><li class="menu__list-item menu__list-item-hidden"><a class="menu__link" href="/docs/setup/installation/manual/">hidden</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/setup/installation/manual/from-archives/">From Archives</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/setup/installation/manual/from-source/">From Source</a></li></ul></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/docs/setup/configuration/">Configuration</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="/docs/setup/deployment/">Deployment</a><ul class="menu__list"><li class="menu__list-item menu__list-item-hidden"><a class="menu__link" href="/docs/setup/deployment/">hidden</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="/docs/setup/deployment/roles/">Roles</a><ul class="menu__list"><li class="menu__list-item menu__list-item-hidden"><a class="menu__link" href="/docs/setup/deployment/roles/">hidden</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/setup/deployment/roles/agent/">Agent</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/setup/deployment/roles/service/">Service</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/docs/setup/deployment/topologies/">Topologies</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="/docs/setup/guides/">Guides</a><ul class="menu__list"><li class="menu__list-item menu__list-item-hidden"><a class="menu__link" href="/docs/setup/guides/">hidden</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/setup/guides/getting-started/">Getting Started</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/setup/guides/unit-testing/">Unit Testing</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/setup/guides/troubleshooting/">Troubleshooting</a></li></ul></li></ul></li><li class="menu__list-item"><div class="title">Reference</div><ul class="menu__list"><li class="menu__list-item menu__list-item-hidden"><a aria-current="page" class="menu__link menu__link--active" href="/docs/reference/">hidden</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--sublist menu__link--active" href="/docs/reference/sources/">Sources</a><ul class="menu__list"><li class="menu__list-item menu__list-item-hidden"><a aria-current="page" class="menu__link menu__link--active" href="/docs/reference/sources/">hidden</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/sources/docker/">docker<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" href="/docs/reference/sources/file/">file<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/sources/journald/">journald<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/sources/kafka/">kafka<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/sources/prometheus/">prometheus<span class="badges"><span class="badge badge--secondary" title="This component works with metric events.">M</span></span></a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/sources/socket/">socket<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/sources/splunk_hec/">splunk_hec<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/sources/statsd/">statsd<span class="badges"><span class="badge badge--secondary" title="This component works with metric events.">M</span></span></a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/sources/stdin/">stdin<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/sources/syslog/">syslog<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/sources/vector/">vector<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span><span class="badge badge--secondary" title="This component works with metric events.">M</span></span></a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="/docs/reference/transforms/">Transforms</a><ul class="menu__list"><li class="menu__list-item menu__list-item-hidden"><a class="menu__link" href="/docs/reference/transforms/">hidden</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/transforms/add_fields/">add_fields<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/transforms/add_tags/">add_tags<span class="badges"><span class="badge badge--secondary" title="This component works with metric events.">M</span></span></a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/transforms/ansi_stripper/">ansi_stripper<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/transforms/aws_ec2_metadata/">aws_ec2_metadata<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/transforms/coercer/">coercer<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/transforms/concat/">concat<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/transforms/field_filter/">field_filter<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span><span class="badge badge--secondary" title="This component works with metric events.">M</span></span></a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/transforms/geoip/">geoip<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/transforms/grok_parser/">grok_parser<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/transforms/json_parser/">json_parser<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/transforms/log_to_metric/">log_to_metric<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span><span class="badge badge--secondary" title="This component works with metric events.">M</span></span></a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/transforms/lua/">lua<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/transforms/regex_parser/">regex_parser<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/transforms/remove_fields/">remove_fields<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/transforms/remove_tags/">remove_tags<span class="badges"><span class="badge badge--secondary" title="This component works with metric events.">M</span></span></a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/transforms/sampler/">sampler<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/transforms/split/">split<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/transforms/tokenizer/">tokenizer<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="/docs/reference/sinks/">Sinks</a><ul class="menu__list"><li class="menu__list-item menu__list-item-hidden"><a class="menu__link" href="/docs/reference/sinks/">hidden</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/sinks/aws_cloudwatch_logs/">aws_cloudwatch_logs<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/sinks/aws_cloudwatch_metrics/">aws_cloudwatch_metrics<span class="badges"><span class="badge badge--secondary" title="This component works with metric events.">M</span></span></a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/sinks/aws_kinesis_firehose/">aws_kinesis_firehose<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/sinks/aws_kinesis_streams/">aws_kinesis_streams<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/sinks/aws_s3/">aws_s3<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/sinks/blackhole/">blackhole<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span><span class="badge badge--secondary" title="This component works with metric events.">M</span></span></a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/sinks/clickhouse/">clickhouse<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/sinks/console/">console<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span><span class="badge badge--secondary" title="This component works with metric events.">M</span></span></a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/sinks/datadog_metrics/">datadog_metrics<span class="badges"><span class="badge badge--secondary" title="This component works with metric events.">M</span></span></a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/sinks/elasticsearch/">elasticsearch<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/sinks/file/">file<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/sinks/gcp_pubsub/">gcp_pubsub<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/sinks/http/">http<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/sinks/kafka/">kafka<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/sinks/new_relic_logs/">new_relic_logs<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/sinks/prometheus/">prometheus<span class="badges"><span class="badge badge--secondary" title="This component works with metric events.">M</span></span></a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/sinks/socket/">socket<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/sinks/splunk_hec/">splunk_hec<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/sinks/statsd/">statsd<span class="badges"><span class="badge badge--secondary" title="This component works with metric events.">M</span></span></a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/sinks/vector/">vector<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="/docs/reference/env-vars/">Advanced</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/reference/env-vars/">Env Vars</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/global-options/">Global Options</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/tests/">Unit Tests</a></li></ul></li></ul></li><li class="menu__list-item"><div class="title">Administration</div><ul class="menu__list"><li class="menu__list-item menu__list-item-hidden"><a class="menu__link" href="/docs/administration/">hidden</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/administration/process-management/">Process Management</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/administration/monitoring/">Monitoring</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/administration/tuning/">Tuning</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/administration/updating/">Updating</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/administration/validating/">Validating</a></li></ul></li><li class="menu__list-item"><div class="title">Meta</div><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/meta/glossary/">Glossary</a></li></ul></li></ul></div></div></div><main class="docMainContainer_FFX1"><div><div class="padding-vert--lg"><div class="container container--fluid"><div class="row"><div class="col"><div class="docItemContainer_1tAC"><article><header><div class="badges"><a class="badge badge--primary" title="This component works with log events." href="/docs/about/data-model/log/">LOG</a></div><h1 class="docTitle_cWlf">File Source</h1></header><div class="markdown"><p>The Vector <a href="#file"><code>file</code></a> source ingests data through one or more local files and outputs <a href="/docs/about/data-model/log/"><code>log</code></a> events.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="configuration"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#configuration" title="Direct link to heading">#</a>Configuration</h2><div><div><ul class="tabs tabs--block"><li class="tab-item tab-item--active">Common</li><li class="tab-item">Advanced</li></ul></div><div class="margin-vert--md"><div><div class="code-header">vector.toml</div><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_3ZcX"><pre class="prism-code language-toml codeBlock_1wn8" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">[</span><span class="token table class-name">sources.my_source_id</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># REQUIRED - General</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key property" style="color:#36acaa">type</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;file&quot;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># must be: &quot;file&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key property" style="color:#36acaa">include</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;/var/log/nginx/*.log&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># example</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># OPTIONAL - General</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key property" style="color:#36acaa">glob_minimum_cooldown</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1000</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># default, milliseconds</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key property" style="color:#36acaa">start_at_beginning</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># default</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key property" style="color:#36acaa">ignore_older</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">86400</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># example, no default, seconds</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># OPTIONAL - Context</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key property" style="color:#36acaa">file_key</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;file&quot;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># default</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key property" style="color:#36acaa">host_key</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;host&quot;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># default</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># OPTIONAL - Priority</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key property" style="color:#36acaa">oldest_first</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># default</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb">Copy</button></div></pre></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="options"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#options" title="Direct link to heading">#</a>Options</h2><div class="fields"><div class="filters"><span class="result-count">14 items</span><div class="search"><input placeholder="🔍 Search..."></div><div class="checkboxes"><label title="Only show popular/common results"><input type="checkbox">common only</label><label title="Only show required results"><input type="checkbox">required only</label></div></div><div class="section-list"><div class="field section"><div class="badges"><span class="badge badge--secondary">string</span><span class="badge badge--secondary">optional</span></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="data_dir"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#data_dir" title="Direct link to heading">#</a>data_dir</h3><p>The directory used to persist file checkpoint positions. By default, the <a href="/docs/setup/configuration/#data_dir">global [<code>data_dir</code>](#data_dir) option</a> is used. Please make sure the Vector project has write permissions to this dir. See <a href="#checkpointing">Checkpointing</a> for more info.</p><div class="info"><div>No default</div><div><div class="show-more">View examples</div></div></div></div><div class="field section"><div class="badges"><span class="badge badge--secondary">[string]</span><span class="badge badge--secondary">optional</span></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="exclude"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#exclude" title="Direct link to heading">#</a>exclude</h3><p>Array of file patterns to exclude. <a href="#globbing">Globbing</a> is supported.<em>Takes precedence over the <a href="#include"><code>include</code> option</a>.</em></p><div class="info"><div>No default</div><div><div class="show-more">View examples</div></div></div></div><div class="field section field-required" required=""><div class="badges"><span class="badge badge--primary" title="This is a popular that we recommend for getting started">common</span><span class="badge badge--secondary">string</span><span class="badge badge--danger">required</span></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="file_key"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#file_key" title="Direct link to heading">#</a>file_key</h3><p>The key name added to each event with the full path of the file. See <a href="#context">Context</a> for more info.</p><div class="info"><div>Default: <code>&quot;file&quot;</code></div><div><div class="show-more">View examples</div></div></div></div><div class="field section"><div class="badges"><span class="badge badge--secondary">table</span><span class="badge badge--secondary">optional</span></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="fingerprinting"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#fingerprinting" title="Direct link to heading">#</a>fingerprinting</h3><p>Configuration for how the file source should identify files.</p><div class="fields"><div class="section-list"><div class="field section field-required" required=""><div class="badges"><span class="badge badge--primary" title="This is a popular that we recommend for getting started">common</span><span class="badge badge--secondary">int</span><span class="badge badge--secondary">bytes</span><span class="badge badge--danger">required</span></div><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="fingerprint_bytes"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#fingerprint_bytes" title="Direct link to heading">#</a>fingerprint_bytes</h4><p>The number of bytes read off the head of the file to generate a unique fingerprint. See <a href="#file-identification">File Identification</a> for more info.</p><div class="info"><div>Default: <code>256</code></div><div>Only relevant when: <span><code><a href="#strategy">strategy</a></code> = <code>&quot;checksum&quot;</code></span></div><div><div class="show-more">View examples</div></div></div></div><div class="field section field-required" required=""><div class="badges"><span class="badge badge--primary" title="This is a popular that we recommend for getting started">common</span><span class="badge badge--secondary">int</span><span class="badge badge--secondary">bytes</span><span class="badge badge--danger">required</span></div><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="ignored_header_bytes"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#ignored_header_bytes" title="Direct link to heading">#</a>ignored_header_bytes</h4><p>The number of bytes to skip ahead (or ignore) when generating a unique fingerprint. This is helpful if all files share a common header. See <a href="#file-identification">File Identification</a> for more info.</p><div class="info"><div>No default</div><div>Only relevant when: <span><code><a href="#strategy">strategy</a></code> = <code>&quot;checksum&quot;</code></span></div><div><div class="show-more">View examples</div></div></div></div><div class="field section"><div class="badges"><span class="badge badge--secondary">string</span><span class="badge badge--secondary" title="This option is an enumation and only allows specific values">enum</span><span class="badge badge--secondary">optional</span></div><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="strategy"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#strategy" title="Direct link to heading">#</a>strategy</h4><p>The strategy used to uniquely identify files. This is important for <a href="#checkpointing">checkpointing</a> when file rotation is used.</p><div class="info"><div>Default: <code>&quot;checksum&quot;</code></div><div>Enum, must be one of: <code title="Read [`fingerprint_bytes`](#fingerprint_bytes) bytes from the head of the file to uniquely identify files via a checksum.">&quot;checksum&quot;</code> <code title="Uses the [device and inode][urls.inode] to unique identify files.">&quot;device_and_inode&quot;</code> </div><div><div class="show-more">View examples</div></div></div></div></div></div></div><div class="field section field-required" required=""><div class="badges"><span class="badge badge--primary" title="This is a popular that we recommend for getting started">common</span><span class="badge badge--secondary">int</span><span class="badge badge--secondary">milliseconds</span><span class="badge badge--danger">required</span></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="glob_minimum_cooldown"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#glob_minimum_cooldown" title="Direct link to heading">#</a>glob_minimum_cooldown</h3><p>Delay between file discovery calls. This controls the interval at which Vector searches for files. See <a href="#auto-discovery">Auto Discovery</a> and <a href="#globbing">Globbing</a> for more info.</p><div class="info"><div>Default: <code>1000</code></div><div><div class="show-more">View examples</div></div></div></div><div class="field section field-required" required=""><div class="badges"><span class="badge badge--primary" title="This is a popular that we recommend for getting started">common</span><span class="badge badge--secondary">string</span><span class="badge badge--danger">required</span></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="host_key"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#host_key" title="Direct link to heading">#</a>host_key</h3><p>The key name added to each event representing the current host. See <a href="#context">Context</a> for more info.</p><div class="info"><div>Default: <code>&quot;host&quot;</code></div><div><div class="show-more">View examples</div></div></div></div><div class="field section"><div class="badges"><span class="badge badge--primary" title="This is a popular that we recommend for getting started">common</span><span class="badge badge--secondary">int</span><span class="badge badge--secondary">seconds</span><span class="badge badge--secondary">optional</span></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="ignore_older"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#ignore_older" title="Direct link to heading">#</a>ignore_older</h3><p>Ignore files with a data modification date that does not exceed this age.</p><div class="info"><div>No default</div><div><div class="show-more">View examples</div></div></div></div><div class="field section field-required" required=""><div class="badges"><span class="badge badge--primary" title="This is a popular that we recommend for getting started">common</span><span class="badge badge--secondary">[string]</span><span class="badge badge--danger">required</span></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="include"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#include" title="Direct link to heading">#</a>include</h3><p>Array of file patterns to include. <a href="#globbing">Globbing</a> is supported. See <a href="#file-read-order">File Read Order</a> and <a href="#file-rotation">File Rotation</a> for more info.</p><div class="info"><div>No default</div><div><div class="show-more">View examples</div></div></div></div><div class="field section"><div class="badges"><span class="badge badge--secondary">int</span><span class="badge badge--secondary">bytes</span><span class="badge badge--secondary">optional</span></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="max_line_bytes"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#max_line_bytes" title="Direct link to heading">#</a>max_line_bytes</h3><p>The maximum number of a bytes a line can contain before being discarded. This protects against malformed lines or tailing incorrect files.</p><div class="info"><div>Default: <code>102400</code></div><div><div class="show-more">View examples</div></div></div></div><div class="field section"><div class="badges"><span class="badge badge--secondary">int</span><span class="badge badge--secondary">bytes</span><span class="badge badge--secondary">optional</span></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="max_read_bytes"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#max_read_bytes" title="Direct link to heading">#</a>max_read_bytes</h3><p>An approximate limit on the amount of data read from a single file at a given time.</p><div class="info"><div>Default: <code>2048</code></div><div><div class="show-more">View examples</div></div></div></div><div class="field section"><div class="badges"><span class="badge badge--secondary">string</span><span class="badge badge--secondary">optional</span></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="message_start_indicator"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#message_start_indicator" title="Direct link to heading">#</a>message_start_indicator</h3><p>When present, Vector will aggregate multiple lines into a single event, using this pattern as the indicator that the previous lines should be flushed and a new event started. The pattern will be matched against entire lines as a regular expression, so remember to anchor as appropriate.</p><div class="info"><div>No default</div><div><div class="show-more">View examples</div></div></div></div><div class="field section"><div class="badges"><span class="badge badge--secondary">int</span><span class="badge badge--secondary">milliseconds</span><span class="badge badge--secondary">optional</span></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="multi_line_timeout"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#multi_line_timeout" title="Direct link to heading">#</a>multi_line_timeout</h3><p>When <a href="#message_start_indicator"><code>message_start_indicator</code></a> is present, this sets the amount of time Vector will buffer lines into a single event before flushing, regardless of whether or not it has seen a line indicating the start of a new message.</p><div class="info"><div>Default: <code>1000</code></div><div><div class="show-more">View examples</div></div></div></div><div class="field section"><div class="badges"><span class="badge badge--primary" title="This is a popular that we recommend for getting started">common</span><span class="badge badge--secondary">bool</span><span class="badge badge--secondary">optional</span></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="oldest_first"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#oldest_first" title="Direct link to heading">#</a>oldest_first</h3><p>Instead of balancing read capacity fairly across all watched files, prioritize draining the oldest files before moving on to read data from younger files. See <a href="#file-read-order">File Read Order</a> for more info.</p><div class="info"><div>No default</div><div><div class="show-more">View examples</div></div></div></div><div class="field section field-required" required=""><div class="badges"><span class="badge badge--primary" title="This is a popular that we recommend for getting started">common</span><span class="badge badge--secondary">bool</span><span class="badge badge--danger">required</span></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="start_at_beginning"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#start_at_beginning" title="Direct link to heading">#</a>start_at_beginning</h3><p>For files with a stored checkpoint at startup, setting this option to <code>true</code> will tell Vector to read from the beginning of the file instead of the stored checkpoint.  See <a href="#read-position">Read Position</a> for more info.</p><div class="info"><div>No default</div><div><div class="show-more">View examples</div></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="output"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#output" title="Direct link to heading">#</a>Output</h2><p>The <a href="#file"><code>file</code></a> source ingests data through one or more local files and outputs <a href="/docs/about/data-model/log/"><code>log</code></a> events.
For example:</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_3ZcX"><pre class="prism-code language-javascript codeBlock_1wn8" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;file&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;/var/log/nginx.log&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;host&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;my.host.com&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;message&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Started GET / for 127.0.0.1 at 2012-03-10 14:28:14 +0100&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;timestamp&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;2019-11-01T21:15:47+00:00&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb">Copy</button></div></pre><p>More detail on the output schema is below.</p><div class="fields"><div class="filters"><span class="result-count">4 items</span><div class="search"><input placeholder="🔍 Search..."></div><div class="checkboxes"><label title="Only show required results"><input type="checkbox">required only</label></div></div><div class="section-list"><div class="field section field-required" required=""><div class="badges"><span class="badge badge--secondary">string</span><span class="badge badge--danger">required</span></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="file"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#file" title="Direct link to heading">#</a>file</h3><p>The <em>full</em> path of the file tha the log originated from. See <a href="#checkpointing">Checkpointing</a> and <a href="#context">Context</a> for more info.</p><div class="info"><div>No default</div><div><div class="show-more">View examples</div></div></div></div><div class="field section field-required" required=""><div class="badges"><span class="badge badge--secondary">string</span><span class="badge badge--danger">required</span></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="host"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#host" title="Direct link to heading">#</a>host</h3><p>The current hostname, equivalent to the <code>gethostname</code> command.</p><div class="info"><div>No default</div><div><div class="show-more">View examples</div></div></div></div><div class="field section field-required" required=""><div class="badges"><span class="badge badge--secondary">string</span><span class="badge badge--danger">required</span></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="message"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#message" title="Direct link to heading">#</a>message</h3><p>The raw log message, unaltered.</p><div class="info"><div>No default</div><div><div class="show-more">View examples</div></div></div></div><div class="field section field-required" required=""><div class="badges"><span class="badge badge--secondary">timestamp</span><span class="badge badge--danger">required</span></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="timestamp"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#timestamp" title="Direct link to heading">#</a>timestamp</h3><p>The exact time the event was ingested.</p><div class="info"><div>No default</div><div><div class="show-more">View examples</div></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="how-it-works"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#how-it-works" title="Direct link to heading">#</a>How It Works</h2><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="auto-discovery"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#auto-discovery" title="Direct link to heading">#</a>Auto Discovery</h3><p>Vector will continually look for new files matching any of your include
patterns. The frequency is controlled via the <a href="#glob_minimum_cooldown"><code>glob_minimum_cooldown</code></a> option.
If a new file is added that matches any of the supplied patterns, Vector will
begin tailing it. Vector maintains a unique list of files and will not tail a
file more than once, even if it matches multiple patterns. You can read more
about how we identify files in the <a href="#file-identification">Identification</a>
section.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="checkpointing"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#checkpointing" title="Direct link to heading">#</a>Checkpointing</h3><p>Vector checkpoints the current read position in the file after each successful
read. This ensures that Vector resumes where it left off if restarted,
preventing data from being read twice. The checkpoint positions are stored in
the data directory which is specified via the
<a href="/docs/setup/configuration/#data-directory">global [<code>data_dir</code>](#data_dir) option</a> but can be
overridden via the <a href="#data_dir"><code>data_dir</code></a> option in the <a href="#file"><code>file</code></a> sink directly.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="compressed-files"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#compressed-files" title="Direct link to heading">#</a>Compressed Files</h3><p>Vector will transparently detect files which have been compressed using <code>gzip</code>
and decompress them for reading. This detection process looks for the unique
sequence of bytes in the <code>gzip</code> header and does not rely on the compressed files
adhering to any kind of naming convention.</p><p>One caveat with reading compressed files is that Vector is not able to
efficiently seek into them. Rather than implement a potentially-expensive full
scan as a seek mechanism, Vector currently will not attempt to make further
reads from a file for which it has already stored a checkpoint in a previous
run. For this reason, users should take care to allow Vector to fully process
any compressed files before shutting the process down or moving the files to
another location on disk.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="context"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#context" title="Direct link to heading">#</a>Context</h3><p>By default, the <a href="#file"><code>file</code></a> source will add context
keys to your events via the <a href="#file_key"><code>file_key</code></a> and <a href="#host_key"><code>host_key</code></a>
options.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="environment-variables"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#environment-variables" title="Direct link to heading">#</a>Environment Variables</h3><p>Environment variables are supported through all of Vector&#x27;s configuration.
Simply add <code>${MY_ENV_VAR}</code> in your Vector configuration file and the variable
will be replaced before being evaluated.</p><p>You can learn more in the <a href="/docs/setup/configuration/#environment-variables">Environment Variables</a>
section.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="file-deletion"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#file-deletion" title="Direct link to heading">#</a>File Deletion</h3><p>When a watched file is deleted, Vector will maintain its open file handle and
continue reading until it reaches EOF. When a file is no longer findable in the
<code>includes</code> glob and the reader has reached EOF, that file&#x27;s reader is discarded.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="file-identification"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#file-identification" title="Direct link to heading">#</a>File Identification</h3><p>By default, Vector identifies files by creating a <a href="https://en.wikipedia.org/wiki/Cyclic_redundancy_check">cyclic redundancy check
(CRC)</a> on the first 256 bytes of the file. This serves as a
fingerprint to uniquely identify the file. The amount of bytes read can be
controlled via the <a href="#fingerprint_bytes"><code>fingerprint_bytes</code></a> and <a href="#ignored_header_bytes"><code>ignored_header_bytes</code></a> options.</p><p>This strategy avoids the common pitfalls of using device and inode names since
inode names can be reused across files. This enables Vector to <a aria-current="page" class="active" href="/#correctness">properly tail
files across various rotation strategies</a>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="file-read-order"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#file-read-order" title="Direct link to heading">#</a>File Read Order</h3><p>By default, Vector attempts to allocate its read bandwidth fairly across all of
the files it&#x27;s currently watching. This prevents a single very busy file from
starving other independent files from being read. In certain situations,
however, this can lead to interleaved reads from files that should be read one
after the other.</p><p>For example, consider a service that logs to timestamped file, creating
a new one at an interval and leaving the old one as-is. Under normal operation,
Vector would follow writes as they happen to each file and there would be no
interleaving. In an overload situation, however, Vector may pick up and begin
tailing newer files before catching up to the latest writes from older files.
This would cause writes from a single logical log stream to be interleaved in
time and potentially slow down ingestion as a whole, since the fixed total read
bandwidth is allocated across an increasing number of files.</p><p>To address this type of situation, Vector provides the <a href="#oldest_first"><code>oldest_first</code></a> flag. When
set, Vector will not read from any file younger than the oldest file that it
hasn&#x27;t yet caught up to. In other words, Vector will continue reading from older
files as long as there is more data to read. Only once it hits the end will it
then move on to read from younger files.</p><p>Whether or not to use the <a href="#oldest_first"><code>oldest_first</code></a> flag depends on the organization of the
logs you&#x27;re configuring Vector to tail. If your <a href="#include"><code>include</code></a> glob contains multiple
independent logical log streams (e.g. nginx&#x27;s <code>access.log</code> and <code>error.log</code>, or
logs from multiple services), you are likely better off with the default
behavior. If you&#x27;re dealing with a single logical log stream or if you value
per-stream ordering over fairness across streams, consider setting
<code>oldest_first</code> to <code>true</code>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="file-rotation"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#file-rotation" title="Direct link to heading">#</a>File Rotation</h3><p>Vector supports tailing across a number of file rotation strategies. The default
behavior of <code>logrotate</code> is simply to move the old log file and create a new one.
This requires no special configuration of Vector, as it will maintain its open
file handle to the rotated log until it has finished reading and it will find
the newly created file normally.</p><p>A popular alternative strategy is <code>copytruncate</code>, in which <code>logrotate</code> will copy
the old log file to a new location before truncating the original. Vector will
also handle this well out of the box, but there are a couple configuration options
that will help reduce the very small chance of missed data in some edge cases.
We recommend a combination of <code>delaycompress</code> (if applicable) on the logrotate
side and including the first rotated file in Vector&#x27;s <a href="#include"><code>include</code></a> option. This
allows Vector to find the file after rotation, read it uncompressed to identify
it, and then ensure it has all of the data, including any written in a gap
between Vector&#x27;s last read and the actual rotation event.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="globbing"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#globbing" title="Direct link to heading">#</a>Globbing</h3><p><a href="https://en.wikipedia.org/wiki/Glob_(programming)">Globbing</a> is supported in all provided file paths, files will
be <a href="#auto-discovery">autodiscovered</a> continually at a rate defined by the
<code>glob_minimum_cooldown</code> option.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="line-delimiters"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#line-delimiters" title="Direct link to heading">#</a>Line Delimiters</h3><p>Each line is read until a new line delimiter (the <code>0xA</code> byte) or <code>EOF</code> is found.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="read-position"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#read-position" title="Direct link to heading">#</a>Read Position</h3><p>By default, Vector will read new data only for newly discovered files, similar
to the <code>tail</code> command. You can read from the beginning of the file by setting
the <a href="#start_at_beginning"><code>start_at_beginning</code></a> option to <code>true</code>.</p><p>Previously discovered files will be <a href="#checkpointing">checkpointed</a>, and the
read position will resume from the last checkpoint.</p></div></article></div><div class="paginator_3VDt"><nav class="pagination-nav"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/reference/sources/docker"><h5 class="pagination-nav__link--sublabel">Previous</h5><h4 class="pagination-nav__link--label">« Docker Source</h4></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/reference/sources/journald"><h5 class="pagination-nav__link--sublabel">Next</h5><h4 class="pagination-nav__link--label">Journald Source »</h4></a></div></nav></div></div><div class="col col--3"><div class="table-of-contents"><div class="section"><div class="title">Support</div><div><a class="text--primary" title="This component has passed reliability standards that make it production ready. Click to learn more." href="/docs/about/guarantees/#prod-ready"><i class="feather icon-award"></i> prod-ready</a></div><div><a class="text--warning" title="This component makes a best-effort delivery guarantee, and in rare cases can lose data. Click to learn more." href="/docs/about/guarantees/#best-effort"><i class="feather icon-shield-off"></i> best-effort</a></div><div><a title="This component works on the linux, macos, windows operating systems." href="/docs/setup/installation/operating-systems/"><i class="feather icon-cpu"></i> <span class="text--primary">linux</span>, <span class="text--primary">macos</span>, <span class="text--primary">windows</span></a></div></div><div class="section"><div class="title">Contents</div><ul class="contents"><li><a href="#configuration" class="contents__link">Configuration</a></li><li><a href="#options" class="contents__link">Options</a><ul><li><a href="#data_dir" class="contents__link">data_dir</a></li><li><a href="#exclude" class="contents__link">exclude</a></li><li><a href="#file_key" class="contents__link">file_key</a></li><li><a href="#fingerprinting" class="contents__link">fingerprinting</a></li><li><a href="#glob_minimum_cooldown" class="contents__link">glob_minimum_cooldown</a></li><li><a href="#host_key" class="contents__link">host_key</a></li><li><a href="#ignore_older" class="contents__link">ignore_older</a></li><li><a href="#include" class="contents__link">include</a></li><li><a href="#max_line_bytes" class="contents__link">max_line_bytes</a></li><li><a href="#max_read_bytes" class="contents__link">max_read_bytes</a></li><li><a href="#message_start_indicator" class="contents__link">message_start_indicator</a></li><li><a href="#multi_line_timeout" class="contents__link">multi_line_timeout</a></li><li><a href="#oldest_first" class="contents__link">oldest_first</a></li><li><a href="#start_at_beginning" class="contents__link">start_at_beginning</a></li></ul></li><li><a href="#output" class="contents__link">Output</a><ul><li><a href="#file" class="contents__link">file</a></li><li><a href="#host" class="contents__link">host</a></li><li><a href="#message" class="contents__link">message</a></li><li><a href="#timestamp" class="contents__link">timestamp</a></li></ul></li><li><a href="#how-it-works" class="contents__link">How It Works</a><ul><li><a href="#auto-discovery" class="contents__link">Auto Discovery</a></li><li><a href="#checkpointing" class="contents__link">Checkpointing</a></li><li><a href="#compressed-files" class="contents__link">Compressed Files</a></li><li><a href="#context" class="contents__link">Context</a></li><li><a href="#environment-variables" class="contents__link">Environment Variables</a></li><li><a href="#file-deletion" class="contents__link">File Deletion</a></li><li><a href="#file-identification" class="contents__link">File Identification</a></li><li><a href="#file-read-order" class="contents__link">File Read Order</a></li><li><a href="#file-rotation" class="contents__link">File Rotation</a></li><li><a href="#globbing" class="contents__link">Globbing</a></li><li><a href="#line-delimiters" class="contents__link">Line Delimiters</a></li><li><a href="#read-position" class="contents__link">Read Position</a></li></ul></li></ul></div><div class="section"><div class="title">Resources</div><ul class="contents"><li><a href="https://github.com/brainrexapi/edit/master/docs/reference/sources/file.md" class="contents__link" target="_blank"><i class="feather icon-edit-1"></i> Edit this page</a></li><li><a href="https://github.com/timberio/vector/issues?q=is%3Aopen+is%3Aissue+label%3A%22source%3A+file%22" class="contents__link" target="_blank"><i class="feather icon-message-circle"></i> View Issues</a></li><li><a href="https://github.com/timberio/vector/tree/master/src/sources/file.rs" class="contents__link" target="_blank"><i class="feather icon-github"></i> View Source</a></li></ul></div></div></div></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="row footer__links"><div class="col col--5 footer__col"><div class="margin-bottom--md"></div><div class="margin-bottom--md"><div class="mailing-list"><form action="https://formspree.io/xqkevzld" method="post" class="mailing-list--form"><input type="email" class="input input--undefined" name="email" placeholder="your@email.com" style="width:150px"><button class="button button--primary button--undefined" type="submit">Subscribe </button></form></div></div><div><a href="https://twitter.com/timberdotio" target="_blank"><i class="feather icon-twitter" alt="Vector&#x27;s Twitter"></i></a>    <a href="https://chat.vector.dev" target="_blank"><i class="feather icon-message-circle" alt="Vector&#x27;s Chat"></i></a>    <a href="https://github.com/timberio/vector" target="_blank"><i class="feather icon-github" alt="Vector&#x27;s Github Repo"></i></a>    <a href="https://vector.dev/blog/atom.xml" target="_blank"><i class="feather icon-rss" alt="Vector&#x27;s RSS feed"></i></a></div></div><div class="col footer__col"><h4 class="footer__title">About</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/about/what-is-brainrex/">What is BrainRex?</a></li><li class="footer__item"><a class="footer__link-item" href="/contact/">Contact Us</a></li><li class="footer__item"><a class="footer__link-item" href="/press/">Press Kit</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Components</h4><ul class="footer__items"><li class="footer__item"><a aria-current="page" class="footer__link-item active" href="/docs/reference/sources/">Sources</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/reference/transforms/">Transforms</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/reference/sinks/">Sinks</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Setup</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/setup/installation/">Install</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/setup/deployment/">Deployment</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/setup/configuration/">Configuration</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/administration/">Administration</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" to="https://t.me/brainrex" href="https://t.me/brainrex">Chat</a></li><li class="footer__item"><a class="footer__link-item" to="https://github.com/brainrexAPI" href="https://github.com/brainrexAPI">Github</a></li><li class="footer__item"><a class="footer__link-item" to="https://twitter.com/brainrexAPI" href="https://twitter.com/brainrexAPI">Twitter</a></li><li class="footer__item"><a class="footer__link-item" href="/mailing_list/">Mailing List</a></li><li class="footer__item"><a class="footer__link-item" href="/blog/">Blog</a></li></ul></div></div><div class="text--center"><div class="margin-bottom--sm"><a href="https://brainrex.com/" target="_blank" rel="noopener noreferrer" class="footerLogoLink_3L_r"></a></div>Copyright © 2020 BrainRex, Ltd.</div></div></footer>
</div>

<script src="/styles.6915ab3b.js"></script>

<script src="/runtime~main.bcc222e0.js"></script>

<script src="/main.1ea4e4ec.js"></script>

<script src="/common.327ac956.js"></script>

<script src="/3.8feee945.js"></script>

<script src="/4.766843ab.js"></script>

<script src="/1be78505.6474834f.js"></script>

<script src="/20ac7829.703f7a30.js"></script>

<script src="/17896441.c140fe11.js"></script>

<script src="/2.ec0c4fab.js"></script>

<script src="/b85ea11a.e97abc72.js"></script>


</body>
</html>