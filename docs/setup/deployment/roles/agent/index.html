<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="metadefi - Decentralized Finance Data Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="metadefi - Decentralized Finance Data Blog Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-79173230-9","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="stylesheet" href="https://use.typekit.net/ckb0rsm.css">
<link rel="stylesheet" href="https://at-ui.github.io/feather-font/css/iconfont.css">
<link rel="stylesheet" href="">

<title data-react-helmet="true">Vector as an Agent | Docs | metadefi - Decentralized Finance Data</title>

<meta data-react-helmet="true" http-equiv="x-ua-compatible" content="ie=edge"><meta data-react-helmet="true" property="og:title" content="metadefi - Decentralized Finance Data -  MetaDeFi is a programmable gateway for on chain data from the Ethereum blockchain. You can query Daaps, smart contracts and more."><meta data-react-helmet="true" property="og:image" content="https://metadefi.com/img/open-graph.png"><meta data-react-helmet="true" property="twitter:image" content="https://metadefi.com/img/open-graph.png"><meta data-react-helmet="true" name="twitter:image:alt" content="Image for metadefi - Decentralized Finance Data -  MetaDeFi is a programmable gateway for on chain data from the Ethereum blockchain. You can query Daaps, smart contracts and more."><meta data-react-helmet="true" name="twitter:card" content="summary"><meta data-react-helmet="true" name="description" content="Deploying and running Vector as an agent"><meta data-react-helmet="true" property="og:description" content="Deploying and running Vector as an agent"><meta data-react-helmet="true" property="og:url" content="https://metadefi.com/docs/setup/deployment/roles/agent">

<link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico">


<link rel="stylesheet" href="/styles.9e4623ce.css">

</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}function e(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}var n=window.matchMedia("(prefers-color-scheme: dark)");n.addListener((function(n){null===e()&&t(n.matches?"dark":"")}));var a=e();null!==a?t(a):n.matches&&t("dark")}()</script>
<div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top navbarHideable_2ZIa"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a aria-current="page" class="navbar__brand active" href="/"></a><a class="navbar__item navbar__link" href="/components/">Protocols</a></div><div class="navbar__items navbar__items--right"><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_16CL"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_keGJ moon_1gwN"></span></div><div class="react-toggle-track-x"><span class="toggle_keGJ sun_3CPA"></span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a aria-current="page" class="navbar__brand active" href="/"></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="navbar__item navbar__link" href="/components/">Protocols</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_1kjD"><div class="docSidebarContainer_1cYp"><div class="sidebar_25T_"><div class="menu menu--responsive"><button aria-label="Open Menu" class="button button--secondary button--sm menu__button" type="button"><svg class="sidebarMenuIcon_1hKf" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><div class="title">About</div><ul class="menu__list"><li class="menu__list-item menu__list-item-hidden"><a class="menu__link" href="/docs/about/">hidden</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/about/what-is-brainrex/">What is BrainRex?</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/about/concepts/">Concepts</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="/docs/about/data-model/">AI Transforms</a><ul class="menu__list"><li class="menu__list-item menu__list-item-hidden"><a class="menu__link" href="/docs/about/data-model/">hidden</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/about/data-model/log/">Log Event</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/about/data-model/metric/">Metric Event</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/docs/about/guarantees/">Guarantees</a></li></ul></li><li class="menu__list-item"><div class="title">Setup</div><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="/docs/setup/installation/">Installation</a><ul class="menu__list"><li class="menu__list-item menu__list-item-hidden"><a class="menu__link" href="/docs/setup/installation/">hidden</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="/docs/setup/installation/containers/">Containers</a><ul class="menu__list"><li class="menu__list-item menu__list-item-hidden"><a class="menu__link" href="/docs/setup/installation/containers/">hidden</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/setup/installation/containers/docker/">Docker</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="/docs/setup/installation/package-managers/">Package Managers</a><ul class="menu__list"><li class="menu__list-item menu__list-item-hidden"><a class="menu__link" href="/docs/setup/installation/package-managers/">hidden</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/setup/installation/package-managers/dpkg/">DPKG</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/setup/installation/package-managers/homebrew/">Homebrew</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/setup/installation/package-managers/rpm/">RPM</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/setup/installation/package-managers/msi/">MSI</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="/docs/setup/installation/operating-systems/">Operating Systems</a><ul class="menu__list"><li class="menu__list-item menu__list-item-hidden"><a class="menu__link" href="/docs/setup/installation/operating-systems/">hidden</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/setup/installation/operating-systems/amazon-linux/">Amazon Linux</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/setup/installation/operating-systems/centos/">CentOS</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/setup/installation/operating-systems/debian/">Debian</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/setup/installation/operating-systems/macos/">MacOS</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/setup/installation/operating-systems/raspbian/">Raspbian</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/setup/installation/operating-systems/rhel/">RHEL</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/setup/installation/operating-systems/ubuntu/">Ubuntu</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/setup/installation/operating-systems/windows/">Windows</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="/docs/setup/installation/manual/">Manual</a><ul class="menu__list"><li class="menu__list-item menu__list-item-hidden"><a class="menu__link" href="/docs/setup/installation/manual/">hidden</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/setup/installation/manual/from-archives/">From Archives</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/setup/installation/manual/from-source/">From Source</a></li></ul></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/docs/setup/configuration/">Configuration</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--sublist menu__link--active" href="/docs/setup/deployment/">Deployment</a><ul class="menu__list"><li class="menu__list-item menu__list-item-hidden"><a aria-current="page" class="menu__link menu__link--active" href="/docs/setup/deployment/">hidden</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--sublist menu__link--active" href="/docs/setup/deployment/roles/">Roles</a><ul class="menu__list"><li class="menu__list-item menu__list-item-hidden"><a aria-current="page" class="menu__link menu__link--active" href="/docs/setup/deployment/roles/">hidden</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" href="/docs/setup/deployment/roles/agent/">Agent</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/setup/deployment/roles/service/">Service</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/docs/setup/deployment/topologies/">Topologies</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="/docs/setup/guides/">Guides</a><ul class="menu__list"><li class="menu__list-item menu__list-item-hidden"><a class="menu__link" href="/docs/setup/guides/">hidden</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/setup/guides/getting-started/">Getting Started</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/setup/guides/unit-testing/">Unit Testing</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/setup/guides/troubleshooting/">Troubleshooting</a></li></ul></li></ul></li><li class="menu__list-item"><div class="title">Reference</div><ul class="menu__list"><li class="menu__list-item menu__list-item-hidden"><a class="menu__link" href="/docs/reference/">hidden</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="/docs/reference/sources/">Sources</a><ul class="menu__list"><li class="menu__list-item menu__list-item-hidden"><a class="menu__link" href="/docs/reference/sources/">hidden</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/sources/docker/">docker<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/sources/file/">file<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/sources/journald/">journald<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/sources/kafka/">kafka<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/sources/prometheus/">prometheus<span class="badges"><span class="badge badge--secondary" title="This component works with metric events.">M</span></span></a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/sources/socket/">socket<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/sources/splunk_hec/">splunk_hec<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/sources/statsd/">statsd<span class="badges"><span class="badge badge--secondary" title="This component works with metric events.">M</span></span></a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/sources/stdin/">stdin<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/sources/syslog/">syslog<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/sources/vector/">vector<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span><span class="badge badge--secondary" title="This component works with metric events.">M</span></span></a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="/docs/reference/transforms/">Transforms</a><ul class="menu__list"><li class="menu__list-item menu__list-item-hidden"><a class="menu__link" href="/docs/reference/transforms/">hidden</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/transforms/add_fields/">add_fields<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/transforms/add_tags/">add_tags<span class="badges"><span class="badge badge--secondary" title="This component works with metric events.">M</span></span></a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/transforms/ansi_stripper/">ansi_stripper<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/transforms/aws_ec2_metadata/">aws_ec2_metadata<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/transforms/coercer/">coercer<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/transforms/concat/">concat<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/transforms/field_filter/">field_filter<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span><span class="badge badge--secondary" title="This component works with metric events.">M</span></span></a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/transforms/geoip/">geoip<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/transforms/grok_parser/">grok_parser<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/transforms/json_parser/">json_parser<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/transforms/log_to_metric/">log_to_metric<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span><span class="badge badge--secondary" title="This component works with metric events.">M</span></span></a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/transforms/lua/">lua<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/transforms/regex_parser/">regex_parser<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/transforms/remove_fields/">remove_fields<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/transforms/remove_tags/">remove_tags<span class="badges"><span class="badge badge--secondary" title="This component works with metric events.">M</span></span></a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/transforms/sampler/">sampler<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/transforms/split/">split<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/transforms/tokenizer/">tokenizer<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="/docs/reference/sinks/">Sinks</a><ul class="menu__list"><li class="menu__list-item menu__list-item-hidden"><a class="menu__link" href="/docs/reference/sinks/">hidden</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/sinks/aws_cloudwatch_logs/">aws_cloudwatch_logs<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/sinks/aws_cloudwatch_metrics/">aws_cloudwatch_metrics<span class="badges"><span class="badge badge--secondary" title="This component works with metric events.">M</span></span></a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/sinks/aws_kinesis_firehose/">aws_kinesis_firehose<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/sinks/aws_kinesis_streams/">aws_kinesis_streams<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/sinks/aws_s3/">aws_s3<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/sinks/blackhole/">blackhole<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span><span class="badge badge--secondary" title="This component works with metric events.">M</span></span></a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/sinks/clickhouse/">clickhouse<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/sinks/console/">console<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span><span class="badge badge--secondary" title="This component works with metric events.">M</span></span></a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/sinks/datadog_metrics/">datadog_metrics<span class="badges"><span class="badge badge--secondary" title="This component works with metric events.">M</span></span></a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/sinks/elasticsearch/">elasticsearch<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/sinks/file/">file<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/sinks/gcp_pubsub/">gcp_pubsub<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/sinks/http/">http<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/sinks/kafka/">kafka<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/sinks/new_relic_logs/">new_relic_logs<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/sinks/prometheus/">prometheus<span class="badges"><span class="badge badge--secondary" title="This component works with metric events.">M</span></span></a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/sinks/socket/">socket<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/sinks/splunk_hec/">splunk_hec<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/sinks/statsd/">statsd<span class="badges"><span class="badge badge--secondary" title="This component works with metric events.">M</span></span></a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/sinks/vector/">vector<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="/docs/reference/env-vars/">Advanced</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/reference/env-vars/">Env Vars</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/global-options/">Global Options</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/tests/">Unit Tests</a></li></ul></li></ul></li><li class="menu__list-item"><div class="title">Administration</div><ul class="menu__list"><li class="menu__list-item menu__list-item-hidden"><a class="menu__link" href="/docs/administration/">hidden</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/administration/process-management/">Process Management</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/administration/monitoring/">Monitoring</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/administration/tuning/">Tuning</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/administration/updating/">Updating</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/administration/validating/">Validating</a></li></ul></li><li class="menu__list-item"><div class="title">Meta</div><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/meta/glossary/">Glossary</a></li></ul></li></ul></div></div></div><main class="docMainContainer_FFX1"><div><div class="padding-vert--lg"><div class="container container--fluid"><div class="row"><div class="col"><div class="docItemContainer_1tAC"><article><header><div class="badges"></div><h1 class="docTitle_cWlf">Vector as an Agent</h1></header><div class="markdown"><p>When Vector serves as an agent, its purpose is to efficiently and quietly
collect data. In this scenario, Vector is typically sharing a host with a more
important service. Therefore, it is critically important that Vector is a good
citizen, limiting its resource usage and efficiently forwarding data.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="vector-configuration"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#vector-configuration" title="Direct link to heading">#</a>Vector Configuration</h2><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="collecting-data"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#collecting-data" title="Direct link to heading">#</a>Collecting Data</h3><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="in-a-container-context"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#in-a-container-context" title="Direct link to heading">#</a>In a container context</h4><p>If you&#x27;re deploying Vector in a <a href="/docs/setup/installation/containers/">container context</a>, such as
<a href="/docs/setup/installation/containers/docker/">Docker</a>, then data collection is handled for you as
part of installation, please proceed to the next section.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="not-in-a-container-context"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#not-in-a-container-context" title="Direct link to heading">#</a>Not in a container context</h4><p>If you are not deploying Vector in a container context, then data collection
must be achieved through more generic means, such as <a href="https://www.freedesktop.org/software/systemd/man/systemd-journald.service.html">journald</a>,
a <a href="/docs/reference/sources/file/">file</a>, or <a href="/docs/reference/sources/stdin/">stdin</a>. The method you use
depends on your setup. In general, we recommend avoiding stdin unless reducing
disk usage is top priority. Stdin is limiting, in that it is coupled with a
single input stream, meaning you cannot restart Vector independently, and you
cannot accept data from multiple streams at the same time. This makes it more
difficult to manage.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="sending-data"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#sending-data" title="Direct link to heading">#</a>Sending Data</h3><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="forwarding-to-a-downstream-vector-service"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#forwarding-to-a-downstream-vector-service" title="Direct link to heading">#</a>Forwarding to a downstream Vector service</h4><p>If you&#x27;re forwarding data to a downstream <a href="/docs/setup/deployment/roles/service/">Vector service</a>,
then you should use the <a href="/docs/reference/sinks/vector/"><code>vector</code> sink</a>. The downstream
Vector service should use the <a href="/docs/reference/sources/vector/"><code>vector</code> source</a>. This
handles communication between Vector instances.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="not-forwarding-to-a-downstream-vector-service"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#not-forwarding-to-a-downstream-vector-service" title="Direct link to heading">#</a>Not forwarding to a downstream Vector service</h4><p>If you are not forwarding data to a downstream Vector service then you can
choose <a href="/docs/reference/sinks/">any sink you&#x27;d like</a>, but be cognizant of how many sinks
you&#x27;re using, as more sinks usually means more resource usage. If you find
that Vector is hogging resources, then you should provision additional
resources, or consider a <a href="/docs/setup/deployment/topologies/#centralized">centralized</a> or
<a href="/docs/setup/deployment/topologies/#stream-based">stream-based</a> topology to push resource usage
downstream.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="hybrid-forwarding"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#hybrid-forwarding" title="Direct link to heading">#</a>Hybrid forwarding</h4><p>There is nothing that prevents you from sending data to both a downstream
Vector service and another independent service. Often times this makes the
most sense if the downstream service is designed for streaming, as it takes
load off of the downstream Vector service. For example, you might want to take
advantage of <a href="https://cloud.google.com/bigquery/streaming-data-into-bigquery">Big Query&#x27;s streaming inserts</a>. This
feature is designed for rapid streaming and it has the added benefit of making
data quickly available for querying. To implement this, you can forgo using a
centralized Vector service entirely and stream data directly from your client
nodes.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="system-configuration"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#system-configuration" title="Direct link to heading">#</a>System Configuration</h2><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="limiting-resources"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#limiting-resources" title="Direct link to heading">#</a>Limiting Resources</h3><p>Vector is designed to be <a aria-current="page" class="active" href="/#performance"><em>highly</em> efficient</a>, but this does
not preclude Vector from consuming an excess amount of resources in certain
scenarios. This is not ideal as an agent where priority should be given to the
primary service on the host. Therefore, it is recommended to limit Vector
resource usage. We strongly believe resource limiting should be achieved at
higher levels, and depending on your platform this can be achieved through a
variety of means. For example:</p><ul><li><a href="https://www.freedesktop.org/software/systemd/man/systemd.resource-control.html">Limiting resources with Systemd</a></li><li><a href="https://the.binbashtheory.com/control-resources-cgroups/">Limiting resources with cgroups</a></li><li><a href="https://kubernetes.io/docs/tasks/configure-pod-container/assign-cpu-resource/">Limiting resources with Kubernetes</a></li></ul><p>If none of the above links are relevant, please refer to your platform&#x27;s
documentation on limiting resources.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="resource-limit-recommendations"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#resource-limit-recommendations" title="Direct link to heading">#</a>Resource limit recommendations</h4><p>In general, we recommend the following <em>minimum</em> limitations:</p><ul><li>At least 5% CPU</li><li>At least 256mb of memory</li></ul><p>A good resource manager will allow Vector to use more CPU and memory when
available. You should not have to provide any additional limitations.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="administration"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#administration" title="Direct link to heading">#</a>Administration</h2><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="configuration-changes"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#configuration-changes" title="Direct link to heading">#</a>Configuration Changes</h3><p>Vector can be <a href="/docs/administration/process-management/#reloading">reloaded</a> to apply configuration changes.
This is the recommended strategy and should be used instead of restarting
whenever possible.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="updating-vector"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#updating-vector" title="Direct link to heading">#</a>Updating Vector</h3><p>To <a href="/docs/administration/updating/">update</a> Vector you&#x27;ll need to restart the process. This
is why we recommend using sources that use the disk as a buffer, as it decouples
the Vector process from the source process. This allows other processes to
continue running while Vector restarts. When Vector is restarted, it can resume
where it left off.</p></div></article></div><div class="paginator_3VDt"><nav class="pagination-nav"><div class="pagination-nav__item"><a aria-current="page" class="pagination-nav__link active" href="/docs/setup/deployment/roles"><h5 class="pagination-nav__link--sublabel">Previous</h5><h4 class="pagination-nav__link--label">« Vector Deployment Roles</h4></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/setup/deployment/roles/service"><h5 class="pagination-nav__link--sublabel">Next</h5><h4 class="pagination-nav__link--label">Vector as a Service »</h4></a></div></nav></div></div><div class="col col--3"><div class="table-of-contents"><div class="section"><div class="title">Contents</div><ul class="contents"><li><a href="#vector-configuration" class="contents__link">Vector Configuration</a><ul><li><a href="#collecting-data" class="contents__link">Collecting Data</a></li><li><a href="#sending-data" class="contents__link">Sending Data</a></li></ul></li><li><a href="#system-configuration" class="contents__link">System Configuration</a><ul><li><a href="#limiting-resources" class="contents__link">Limiting Resources</a></li></ul></li><li><a href="#administration" class="contents__link">Administration</a><ul><li><a href="#configuration-changes" class="contents__link">Configuration Changes</a></li><li><a href="#updating-vector" class="contents__link">Updating Vector</a></li></ul></li></ul></div><div class="section"><div class="title">Resources</div><ul class="contents"><li><a href="https://github.com/brainrexapi/edit/master/docs/setup/deployment/roles/agent.md" class="contents__link" target="_blank"><i class="feather icon-edit-1"></i> Edit this page</a></li></ul></div></div></div></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="row footer__links"><div class="col col--5 footer__col"><div class="margin-bottom--md"></div><div class="margin-bottom--md"><div class="mailing-list"><form action="https://formspree.io/xqkevzld" method="post" class="mailing-list--form"><input type="email" class="input input--undefined" name="email" placeholder="you@email.com" style="width:150px"><button class="button button--primary button--undefined" type="submit">Subscribe</button></form></div></div><div><a href="https://twitter.com/timberdotio" target="_blank"><i class="feather icon-twitter" alt="Vector&#x27;s Twitter"></i></a>    <a href="https://chat.vector.dev" target="_blank"><i class="feather icon-message-circle" alt="Vector&#x27;s Chat"></i></a>    <a href="https://github.com/timberio/vector" target="_blank"><i class="feather icon-github" alt="Vector&#x27;s Github Repo"></i></a>    <a href="https://vector.dev/blog/atom.xml" target="_blank"><i class="feather icon-rss" alt="Vector&#x27;s RSS feed"></i></a></div></div><div class="col footer__col"><h4 class="footer__title">About</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/about/what-is-brainrex/">What is BrainRex?</a></li><li class="footer__item"><a class="footer__link-item" href="/contact/">Contact Us</a></li><li class="footer__item"><a class="footer__link-item" href="/press/">Press Kit</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Components</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/reference/sources/">Sources</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/reference/transforms/">Transforms</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/reference/sinks/">Sinks</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Setup</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/setup/installation/">Install</a></li><li class="footer__item"><a aria-current="page" class="footer__link-item active" href="/docs/setup/deployment/">Deployment</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/setup/configuration/">Configuration</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/administration/">Administration</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" to="https://t.me/brainrex" href="https://t.me/brainrex">Chat</a></li><li class="footer__item"><a class="footer__link-item" to="https://github.com/brainrexAPI" href="https://github.com/brainrexAPI">Github</a></li><li class="footer__item"><a class="footer__link-item" to="https://twitter.com/brainrexAPI" href="https://twitter.com/brainrexAPI">Twitter</a></li><li class="footer__item"><a class="footer__link-item" href="/mailing_list/">Mailing List</a></li><li class="footer__item"><a class="footer__link-item" href="/blog/">Blog</a></li></ul></div></div><div class="text--center"><div class="margin-bottom--sm"><a href="https://brainrex.com/" target="_blank" rel="noopener noreferrer" class="footerLogoLink_3L_r"></a></div>Copyright © 2020 BrainRex, Ltd.</div></div></footer>
</div>

<script src="/styles.6915ab3b.js"></script>

<script src="/runtime~main.adedfd0a.js"></script>

<script src="/main.622ae2a6.js"></script>

<script src="/common.0ba9d685.js"></script>

<script src="/3.8feee945.js"></script>

<script src="/4.f2998d35.js"></script>

<script src="/1be78505.7ba63e16.js"></script>

<script src="/20ac7829.703f7a30.js"></script>

<script src="/17896441.aeeb474f.js"></script>

<script src="/72d7dd0f.d5fbfc01.js"></script>


</body>
</html>